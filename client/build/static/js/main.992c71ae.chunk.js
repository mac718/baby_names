(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{33:function(e,t,n){"use strict";var c,a,s,i,r,l,o,d,j,b,u,m,h,f,O,x,g,p,v,N,y,w,S,k,C,L,E,A,P,T,U,F=n(3),D=n(2),M=n(1),R=n(7),H=n(8),J=n(0),z=function(e){var t=Object(M.useState)(""),n=Object(D.a)(t,2),c=n[0],a=n[1],s=Object(M.useState)(""),i=Object(D.a)(s,2),r=i[0],l=i[1],o=Object(M.useState)(!0),d=Object(D.a)(o,2),j=d[0],b=d[1],u=Object(M.useState)(!1),m=Object(D.a)(u,2),h=m[0],f=m[1],O=Object(M.useState)(e.location.state?e.location.state.error:null),x=Object(D.a)(O,2),g=x[0],p=x[1];return h?Object(J.jsx)(R.a,{to:"/cards"}):Object(J.jsx)("div",{className:"container vh-100 d-flex flex-column justify-content-center align-items-center",children:Object(J.jsxs)("form",{className:"border border-secondary rounded p-3",style:{minWidth:"25vw",minHeight:"25vh"},children:[Object(J.jsx)("div",{className:"fs-2 text-center",children:"Log In"}),g&&Object(J.jsx)("div",{id:"error",className:"text-danger fw-bold text-center w-90 bg-light border border-info rounded",children:g}),Object(J.jsx)("label",{htmlFor:"email",children:"Email"}),Object(J.jsx)("input",{className:"form-control",type:"text",id:"email",onChange:function(e){var t=e.target.value;a(t),b(!1)}}),Object(J.jsx)("label",{htmlFor:"password",children:"Password"}),Object(J.jsx)("input",{className:"form-control",type:"password",id:"password",onChange:function(e){var t=e.target.value;l(t),b(!1)}}),Object(J.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"100%"},children:Object(J.jsx)("button",{className:"btn btn-primary mt-2",disabled:j,onClick:function(e){e.preventDefault(),fetch("/api/v1/users/login",{method:"POST",body:JSON.stringify({email:c,password:r}),credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)return e.json();f(!0)})).then((function(e){e&&p(e.msg)})).catch((function(e){console.log(e),p(e.message)}))},children:"Log In"})}),Object(J.jsxs)("div",{className:"mt-2 text-center",children:["Don't have an account? Sign up"," ",Object(J.jsx)(H.b,{to:"/sign-up",className:"text-decoration-none fw-bold",children:"here!"})]})]})})},B=n(4),I=n(5),Y=I.b.div(c||(c=Object(B.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),G=I.b.input(a||(a=Object(B.a)(["\n  margin-left: 5px;\n  margin-right: 5px;\n"]))),_=I.b.div(s||(s=Object(B.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: gray;\n"]))),V=function(e){for(var t=e.name,n=e.fetchRatings,c=Object(M.useState)(5),a=Object(D.a)(c,2),s=a[0],i=a[1],r=Object(M.useState)(!0),l=Object(D.a)(r,2),o=l[0],d=l[1],j=[],b=function(e){var t=e.target.value;console.log(t),i(t),d(!1)},u=0;u<10;u+=1)j.push(Object(J.jsxs)(_,{children:[Object(J.jsx)(G,{className:"form-check-input",type:"radio",id:u+1,value:u+1,name:"rating",onClick:b}),Object(J.jsx)("label",{htmlFor:u+1,style:{fontSize:"0.85rem"},children:u+1})]},u));return Object(J.jsxs)(Y,{className:"input-group",children:[j,Object(J.jsx)("div",{className:"input-group justify-content-center mt-1",children:Object(J.jsx)("button",{className:"btn btn-secondary",onClick:function(e){e.preventDefault(),fetch("/api/v1/ratings",{method:"PATCH",body:JSON.stringify({name:t,rating:s}),credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(){n()})).catch((function(e){alert(e)}))},disabled:o,children:"Submit Rating"})})]})},W=function(e){var t=e.fetchFn;console.log(t);var n=Object(M.useState)("All"),c=Object(D.a)(n,2),a=c[0],s=c[1],i=Object(M.useState)("All"),r=Object(D.a)(i,2),l=r[0],o=r[1],d=function(e){var t=e.target.innerHTML;console.log(t),s(t)},j=function(e){var t=e.target.innerHTML;o(t)};return Object(J.jsxs)("form",{className:"d-flex flex-row m-3 justify-content-center",onSubmit:function(e){e.preventDefault(),t(a,l)},children:[Object(J.jsxs)("div",{className:"dropdown m-2",children:[Object(J.jsx)("a",{className:"btn btn-outline-secondary dropdown-toggle",href:"#",role:"button",id:"gender","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Filter Gender"}),Object(J.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink",children:[Object(J.jsx)("li",{children:Object(J.jsx)("a",{className:"dropdown-item active",href:"#",onClick:d,children:"All"})}),Object(J.jsx)("li",{children:Object(J.jsx)("a",{className:"dropdown-item",href:"#",onClick:d,children:"Male"})}),Object(J.jsx)("li",{children:Object(J.jsx)("a",{className:"dropdown-item",href:"#",onClick:d,children:"Female"})}),Object(J.jsx)("li",{children:Object(J.jsx)("a",{className:"dropdown-item",href:"#",onClick:d,children:"Neutral"})})]}),Object(J.jsx)("div",{className:"text-center",children:a})]}),Object(J.jsxs)("div",{className:"dropdown m-2",children:[Object(J.jsx)("a",{className:"btn btn-outline-secondary dropdown-toggle",href:"#",role:"button",id:"gender","data-bs-toggle":"dropdown","aria-expanded":"false",value:a,children:"Filter Origin"}),Object(J.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink",children:[Object(J.jsx)("li",{children:Object(J.jsx)("a",{className:"dropdown-item active",href:"#",onClick:j,children:"All"})}),Object(J.jsx)("li",{children:Object(J.jsx)("a",{className:"dropdown-item",href:"#",onClick:j,children:"USA"})}),Object(J.jsx)("li",{children:Object(J.jsx)("a",{className:"dropdown-item",href:"#",onClick:j,children:"Europe"})}),Object(J.jsx)("li",{children:Object(J.jsx)("a",{className:"dropdown-item",href:"#",onClick:j,children:"Africa"})}),Object(J.jsx)("li",{children:Object(J.jsx)("a",{className:"dropdown-item",href:"#",onClick:j,children:"Asia"})})]}),Object(J.jsx)("div",{className:"text-center",children:l})]}),Object(J.jsx)("div",{children:Object(J.jsx)("button",{className:"btn btn-outline-primary btn-sm m-2",type:"submit",children:"Apply Filters"})})]})},Z=n(14),q=n(15),Q=function(e){var t=e.name;return Object(J.jsx)("div",{className:"modal",id:t.name,tabIndex:"-1","aria-labelledby":"".concat(t.name,"label"),"aria-hidden":"true",children:Object(J.jsx)("div",{className:"modal-dialog",children:Object(J.jsxs)("div",{className:"modal-content",children:[Object(J.jsxs)("div",{className:"modal-header",children:[Object(J.jsx)("h5",{className:"modal-title",id:t.name,children:t.name}),Object(J.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(J.jsxs)("div",{className:"modal-body",children:[Object(J.jsx)("div",{className:"fs-1 fw-bold",children:t.name}),Object(J.jsx)("div",{children:"Meaning:"}),Object(J.jsxs)("div",{children:["gender: ",Object(J.jsx)("span",{className:"fw-bold",children:t.gender})]}),Object(J.jsxs)("div",{children:["Origin: ",Object(J.jsx)("span",{className:"fw-bold",children:t.origin})]})]}),Object(J.jsx)("div",{className:"modal-footer",children:Object(J.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",children:"Close"})})]})})})},$=I.b.div(i||(i=Object(B.a)(["\n  &:hover {\n    font-weight: bold;\n  }\n  cursor: pointer;\n"]))),K=I.b.li(r||(r=Object(B.a)(["\n  display: flex;\n  justify-content: space-between;\n  @media (max-width: 500px) {\n    flex-direction: column;\n  }\n"]))),X=function(e){var t=e.getCurrentUser,n=Object(M.useState)([]),c=Object(D.a)(n,2),a=c[0],s=c[1],i=Object(M.useState)(!0),r=Object(D.a)(i,2),l=r[0],o=r[1],d=Object(M.useState)(null),j=Object(D.a)(d,2),b=j[0],u=j[1],m=Object(M.useState)(!0),h=Object(D.a)(m,2),f=h[0],O=h[1],x=Object(M.useState)("All"),g=Object(D.a)(x,2),p=g[0],v=g[1],N=Object(M.useState)("All"),y=Object(D.a)(N,2),w=y[0],S=y[1],k=Object(M.useRef)(!0),C=function(e){for(var t=[],n=function(n){var c=e.filter((function(e){return Number(e.score)===n})).map((function(e){return e.name}));t.push(c)},c=10;c>=1;c-=1)n(c);return t},L=function(e,t,n){return"All"!==e&&(n="Male"===e?n.filter((function(e){return"m"===e.name.gender})):"Female"===e?n.filter((function(e){return"f"===e.name.gender})):n.filter((function(e){return"n"===e.name.gender}))),"All"!==t&&(n="USA"===t?n.filter((function(e){return"USA"===e.name.origin})):"Europe"===t?n.filter((function(e){return"Europe"===e.name.origin})):"Africa"===t?n.filter((function(e){return"Africa"===e.name.origin})):n.filter((function(e){return"Asia"===e.name.origin}))),n},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;fetch("/api/v1/ratings/id",{method:"GET",credentials:"include"}).then((function(e){return c.current&&O(!0),e.json()})).then((function(a){if(c.current){v(e),S(n);var i=L(e,n,a.ratings);u(null);var r=C(i);s(r),O(!1),t(a.username)}})).catch((function(e){return console.log(e)}))};Object(M.useEffect)((function(){return k.current=!0,E(p,w,k),function(){k.current=!1}}),[]);var A=function(e){e.preventDefault();var t=e.target.parentElement.parentElement.parentElement.children[1].firstChild.innerHTML;fetch("/api/v1/ratings",{method:"DELETE",credentials:"include",body:JSON.stringify({name:t}),headers:{"Content-type":"application/json"}}).then((function(){return E(p,w)})).catch((function(e){return alert(e)}))},P=a.map((function(e,t){var n=e.map((function(e){var t;return t="m"===e.gender?"lightBlue":"lightPink",Object(J.jsxs)(K,{className:"list-group-item",children:[Object(J.jsx)("div",{className:"col col-sm"}),Object(J.jsxs)("div",{className:"col col-sm text-muted",children:[Object(J.jsx)($,{className:"d-inline-block",style:{color:t},"data-bs-toggle":"modal","data-bs-target":"#".concat(e.name),children:e.name}),Object(J.jsx)(Q,{name:e})]}),Object(J.jsxs)("div",{className:"col col-sm",children:[Object(J.jsx)(Z.a,{icon:q.b,className:"float-end m-2",onClick:function(t){return function(e,t){e.preventDefault(),o(!l),u(b?null:t)}(t,e)},cursor:"pointer"}),Object(J.jsx)(Z.a,{icon:q.d,className:"float-end m-2",onClick:A,cursor:"pointer"}),Object(J.jsx)("div",{hidden:b!==e,id:e,children:Object(J.jsx)(V,{name:e,fetchRatings:E,children:Object(J.jsx)("div",{children:Object(J.jsx)("button",{className:"btn btn-secondary",children:"Submit Rating"})})})})]})]},e.name)})),c=function(e){var t=11-(e+1);return t>=7?"success":t>=5?"muted":"danger"}(t);return Object(J.jsxs)("div",{className:"container border border-dark rounded mt-3 h-10",children:[Object(J.jsx)("div",{className:"fs-2 text-center fw-light",children:Object(J.jsx)("div",{className:"fs-1 fw-bold text-".concat(c," m-auto mt-2"),children:11-(t+1)})}),Object(J.jsx)("ul",{className:"text-center fs-4 list-group list-group-flush",children:n})]},t/10)})),T=Object(J.jsxs)("div",{className:"d-flex justify-content-center align-items-center w-100 vh-100",children:[Object(J.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(J.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(J.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(J.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(J.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(J.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]});return Object(J.jsxs)("div",{className:"container",children:[Object(J.jsx)(W,{fetchFn:E}),Object(J.jsx)("div",{className:"container mt-2",children:f?T:P})]})},ee=function(){return Object(J.jsx)("div",{className:"d-flex justify-content-center w-100",children:Object(J.jsx)("div",{className:"card",style:{maxWidth:"25vw"},children:Object(J.jsxs)("div",{className:"card-body bg-light",children:["You've ranked all of the names that match the selected criteria! You can edit your ratings ",Object(J.jsx)(H.b,{to:"/ratings",children:"here "})," or change filters above."]})})})},te=Object(M.createContext)(),ne=function(e){var t=e.children,n=Object(M.useState)(null),c=Object(D.a)(n,2),a=c[0],s=c[1];return Object(M.useEffect)((function(){fetch("http://localhost:3001/api/v1/users/getUser",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){return s(e.firstName)})).catch((function(e){return console.log(e)}))}),[]),Object(J.jsx)(te.Provider,{value:a,children:t})},ce=Object(I.c)(l||(l=Object(B.a)(["\n  from {\n    opacity: 1;\n    top: 0;\n    font-size: 48px;\n    color: black;\n  }\n  to {\n    opacity: 0;\n    top: 0;\n    font-size: 250px;\n    color: white;\n  }\n"]))),ae=I.b.div(o||(o=Object(B.a)(["\n  position: absolute;\n  z-index: 1;\n  top: 4rem;\n  width: 100%;\n  height: 50vh;\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n  font-weight: bold;\n  opacity: 0;\n  animation: ",";\n"])),(function(e){return e.animate&&Object(I.a)(d||(d=Object(B.a)(["\n      "," 0.8s linear 1\n    "])),ce)})),se=I.b.div(j||(j=Object(B.a)(["\n  width: 400px;\n  height: 400px;\n  max-width: 90%;\n  border-radius: 2%;\n  border: 1px solid black;\n  background-color: ",";\n  color: white;\n  position: relative;\n"])),(function(e){return e.color})),ie=I.b.div(b||(b=Object(B.a)(["\n  height: 33%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 2rem;\n"]))),re=I.b.div(u||(u=Object(B.a)(["\n  height: 33%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 3rem;\n"]))),le=I.b.div(m||(m=Object(B.a)(["\n  height: 33%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),oe=I.b.div(h||(h=Object(B.a)(["\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n"]))),de=I.b.div(f||(f=Object(B.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),je=I.b.input(O||(O=Object(B.a)(["\n  margin-left: 5px;\n  margin-right: 5px;\n"]))),be=I.b.div(x||(x=Object(B.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: gray;\n"]))),ue=function(e){var t=e.getCurrentUser,n=Object(M.useState)([]),c=Object(D.a)(n,2),a=(c[0],c[1]),s=Object(M.useState)(""),i=Object(D.a)(s,2),r=i[0],l=i[1],o=Object(M.useState)(1),d=Object(D.a)(o,2),j=d[0],b=d[1],u=Object(M.useState)(!0),m=Object(D.a)(u,2),h=m[0],f=m[1],O=Object(M.useState)(""),x=Object(D.a)(O,2),g=x[0],p=x[1],v=Object(M.useState)(!1),N=Object(D.a)(v,2),y=N[0],w=N[1],S=Object(M.useState)(!0),k=Object(D.a)(S,2),C=k[0],L=k[1],E=Object(M.useState)(!1),A=Object(D.a)(E,2),P=A[0],T=A[1],U=Object(M.useState)("All"),F=Object(D.a)(U,2),H=F[0],z=F[1],B=Object(M.useState)("All"),I=Object(D.a)(B,2),Y=I[0],G=I[1],_=Object(M.useState)(!1),V=Object(D.a)(_,2),Z=V[0],q=V[1],Q=Object(M.useState)(!1),$=Object(D.a)(Q,2),K=$[0],X=$[1],te=Object(M.useState)(null),ne=Object(D.a)(te,2),ce=(ne[0],ne[1]),ue=function(e,t,n){return"All"!==e&&(n="Male"===e?n.filter((function(e){return"m"===e.gender})):"Female"===e?n.filter((function(e){return"f"===e.gender})):n.filter((function(e){return"n"===e.gender}))),"All"!==t&&(n="USA"===t?n.filter((function(e){return"USA"===e.origin})):"Europe"===t?n.filter((function(e){return"Europe"===e.origin})):"Africa"===t?n.filter((function(e){return"Africa"===e.origin})):n.filter((function(e){return"Asia"===e.origin}))),n},me=function(e,t){return"m"===e[t].gender?"lightBlue":"f"===e[t].gender?"lightPink":"purple"},he=Object(M.useRef)(!0),fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"All",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"All",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:he;fetch("/api/v1/names",{method:"GET",credentials:"include"}).then((function(e){return c.current&&X(!0),e.json()})).then((function(s){if(c.current){z(e),G(n);var i=ue(e,n,s.names);if(0===i.length)q(!0);else{var r=Math.floor(Math.random()*i.length),o=me(i,r);q(!1),a(i),l(i[r]),p(o),X(!1),t(s.username),ce(s.userName)}}})).catch((function(e){return console.log(e)}))};Object(M.useEffect)((function(){return he.current=!0,fe(H,Y,he),function(){he.current=!1}}),[]);for(var Oe=function(e){e.preventDefault();var t=e.target.value;b(t),f(!1)},xe=[],ge=0;ge<10;ge+=1)xe.push(Object(J.jsxs)(be,{children:[Object(J.jsx)(je,{className:"form-check-input",type:"radio",id:ge+1,value:ge+1,name:"rating",onClick:Oe}),Object(J.jsx)("label",{htmlFor:ge+1,style:{fontSize:"0.85rem"},children:ge+1})]},ge));var pe=Object(J.jsxs)("div",{className:"d-flex justify-content-center align-items-center w-100 vh-100",children:[Object(J.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(J.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(J.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(J.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(J.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(J.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]});return P?Object(J.jsx)(R.a,{to:"/login"}):Z?Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{className:"w-100 d-flex justify-content-center",children:Object(J.jsx)(W,{fetchNames:fe,className:"position-fixed"})}),Object(J.jsx)(ee,{})]}):Object(J.jsxs)("div",{children:[Object(J.jsx)(W,{fetchFn:fe,className:"position-fixed"}),Object(J.jsxs)(oe,{className:"container",style:{height:"100vh"},children:[K?pe:Object(J.jsxs)(se,{className:"shadow",color:g,children:[Object(J.jsx)(ie,{className:"text-muted",children:Object(J.jsxs)("em",{children:["origin: ",r.origin]})}),Object(J.jsx)(re,{children:r.name}),Object(J.jsx)(le,{children:Object(J.jsxs)(de,{className:"input-group",children:[xe,Object(J.jsx)("div",{className:"input-group justify-content-center mt-1",children:Object(J.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(e){e.preventDefault(),L(!C),w(!y),fetch("/api/v1/ratings",{method:"POST",body:JSON.stringify({name:r,score:j}),credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return setTimeout((function(){L(!0),w(!1)}),100),401===e.status&&T(!0),e.json()})).then((function(e){var t=ue(H,Y,e.unratedNames),n=Math.floor(Math.random()*t.length),c=me(t,n);0===t.length?q(!0):setTimeout((function(){a(t),l(t[n]),f(!0),p(c)}),0)})).catch((function(e){T(!0)}))},disabled:h,children:"Submit Rating"})})]})})]}),Object(J.jsx)(ae,{animate:y,hidden:C,children:j})]})]})},me=(I.b.li(g||(g=Object(B.a)(["\n  @media only screen and (max-width: 500px) {\n    & > button:after {\n      float: left;\n    }\n  }\n"]))),function(e){var t=e.user,n=e.getCurrentUser,c=Object(R.f)();return Object(M.useEffect)((function(){console.log("rendered")}),[]),Object(J.jsx)("nav",{className:"navbar navbar-expand navbar-light",children:Object(J.jsxs)("div",{className:"container-fluid",children:[Object(J.jsx)("a",{className:"navbar-brand",href:"/",children:Object(J.jsx)("span",{style:{background:"linear-gradient(lightPink, blue)",color:"white"},className:"rounded p-2",children:"Nominfans"})}),Object(J.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(J.jsx)("span",{className:"navbar-toggler-icon",children:"thing"})}),Object(J.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(J.jsxs)("ul",{className:"navbar-nav",children:[Object(J.jsx)("li",{className:"nav-item",children:Object(J.jsx)("a",{className:"nav-link active","aria-current":"page",href:"/cards",children:"Rank Names"})}),Object(J.jsx)("li",{className:"nav-item",children:Object(J.jsx)("a",{className:"nav-link active","aria-current":"page",href:"/ratings",children:"Your Ratings"})}),Object(J.jsxs)("li",{className:"nav-item dropdown",children:[Object(J.jsx)("button",{className:"nav-link dropdown-toggle btn btn-link",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"More"}),Object(J.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end dropdown-menu-lg-start bg-light","aria-labelledby":"navbarDropdown",children:[Object(J.jsx)("li",{className:"dropdown-item",children:Object(J.jsx)(H.b,{to:"/account",className:"nav-link active","aria-current":"page",children:"Account"})}),Object(J.jsx)("li",{className:"dropdown-item",children:Object(J.jsx)(H.b,{to:"/linked",className:"nav-link active","aria-current":"page",children:"Linked Account Ratings"})}),Object(J.jsx)("li",{children:Object(J.jsx)("hr",{className:"dropdown-divider"})}),Object(J.jsx)("li",{children:Object(J.jsx)("a",{className:"dropdown-item",href:"#",onClick:function(e){e.preventDefault(),fetch("/api/v1/users/sign-out",{method:"DELETE",credentials:"include"}).then((function(){n(null),c.push("/login")})).catch((function(e){return console.log(e)}))},children:"Sign Out"})})]})]})]})}),t?Object(J.jsxs)("div",{className:"text-decoration-none fw-bold",children:["Hi,"," ",Object(J.jsx)(H.b,{to:"/account",className:"text-decoration-none",children:t}),"!"]}):Object(J.jsx)(H.b,{to:"/login",children:Object(J.jsx)("button",{className:"btn btn-primary float-right",children:"Login"})})]})})}),he=function(e){return function(t){var n=Object(M.useState)(!0),c=Object(D.a)(n,2),a=c[0],s=c[1],i=Object(M.useState)(!1),r=Object(D.a)(i,2),l=r[0],o=r[1],d=Object(M.useState)(""),j=Object(D.a)(d,2),b=j[0],u=j[1];return Object(M.useEffect)((function(){fetch("/api/v1/users/checkToken",{credentials:"include"}).then((function(e){if(200!==e.status)return e.json();s(!1)})).then((function(e){e&&(u(e.msg),s(!1),o(!0))})).catch((function(e){console.error(e),u("Please log in."),s(!1),o(!0)}))}),[]),a?null:l?Object(J.jsx)(R.a,{to:{pathname:"/login",state:{error:b}}}):Object(J.jsx)(e,Object(F.a)({},t))}},fe=function(){var e=Object(M.useState)(""),t=Object(D.a)(e,2),n=t[0],c=t[1],a=Object(M.useState)(""),s=Object(D.a)(a,2),i=s[0],r=s[1],l=Object(M.useState)(""),o=Object(D.a)(l,2),d=o[0],j=o[1],b=Object(M.useState)(""),u=Object(D.a)(b,2),m=u[0],h=u[1],f=Object(M.useState)(!1),O=Object(D.a)(f,2),x=O[0],g=O[1],p=Object(M.useState)(!1),v=Object(D.a)(p,2),N=v[0],y=v[1],w=Object(M.useState)(!1),S=Object(D.a)(w,2),k=S[0],C=S[1],L=Object(M.useState)(!1),E=Object(D.a)(L,2),A=E[0],P=E[1],T=Object(M.useState)(!1),U=Object(D.a)(T,2),F=U[0],z=U[1],B=Object(M.useState)(""),I=Object(D.a)(B,2),Y=I[0],G=I[1];return F?Object(J.jsx)(R.a,{to:"/cards"}):Object(J.jsx)("div",{className:"container vh-100 d-flex flex-column justify-content-center align-items-center",children:Object(J.jsxs)("form",{className:"mh-25 h-auto w-25 border border-secondary rounded p-3",children:[Object(J.jsx)("div",{className:"fs-2 text-center",children:"Sign Up!"}),Y&&Object(J.jsx)("div",{id:"error",className:"text-danger fw-bold text-center w-90 bg-light border border-info rounded",children:Y}),Object(J.jsx)("label",{htmlFor:"fname",children:"First Name"}),Object(J.jsx)("input",{className:"form-control",type:"text",id:"fname",onChange:function(e){var t=e.target.value;c(t),g(!(!t||""===t))}}),Object(J.jsx)("label",{htmlFor:"lname",children:"Last Name"}),Object(J.jsx)("input",{className:"form-control",type:"text",id:"lname",onChange:function(e){var t=e.target.value;r(t),y(!(!t||""===t))}}),Object(J.jsx)("label",{htmlFor:"email",children:"Email"}),Object(J.jsx)("input",{className:"form-control",type:"email",id:"email",onChange:function(e){var t=e.target.value;j(t);/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(t)?C(!0):C(!1)}}),Object(J.jsx)("label",{htmlFor:"password",children:"Password"}),Object(J.jsx)("input",{className:"form-control",type:"password",id:"password",onChange:function(e){var t=e.target.value;h(t),t.length>=5?P(!0):P(!1)}}),Object(J.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"100%"},children:Object(J.jsx)("button",{className:"btn btn-primary mt-2",disabled:!x||!N||!k||!A,onClick:function(e){e.preventDefault(),fetch("/api/v1/users/register",{method:"POST",body:JSON.stringify({firstName:n,lastName:i,email:d,password:m}),credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)return console.log(e),e.json();z(!0)})).then((function(e){e&&G(e.msg)})).catch((function(e){console.log(e),G(e.message)}))},children:"Sign Up!"})}),Object(J.jsxs)("div",{className:"mt-2",children:["Already have an account? Log in"," ",Object(J.jsx)(H.b,{to:"/login",class:"text-decoration-none fw-bold",children:"here!"})]})]})})},Oe=function(e){var t=e.currentEmail,n=e.getCurrentUser,c=Object(M.useState)(!1),a=Object(D.a)(c,2),s=a[0],i=a[1],r=Object(M.useState)(""),l=Object(D.a)(r,2),o=l[0],d=l[1];return Object(J.jsxs)("section",{id:"editEmail",children:[Object(J.jsx)("div",{className:"fw-bold",children:"Email"}),Object(J.jsxs)("div",{className:"d-flex justify-content-between min-width-50vw",children:[s?Object(J.jsxs)("div",{className:"d-flex",children:[Object(J.jsx)("input",{type:"text",defaultValue:t,onChange:function(e){var t=e.target.value;d(t)}}),Object(J.jsx)("button",{className:"btn btn-outline-info ms-2",onClick:function(e){e.preventDefault(),fetch("/api/v1/users",{method:"PATCH",body:JSON.stringify({property:"email",email:o}),headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(){i(!1),n()})).catch((function(e){return alert(e)}))},children:"Save Email"})]}):t,Object(J.jsx)("button",{className:"btn text-primary ms-2",onClick:function(){return i(!s)},children:"edit email"})]})]})},xe=function(e){var t=e.currentFirstName,n=e.getCurrentUser,c=Object(M.useState)(""),a=Object(D.a)(c,2),s=a[0],i=a[1],r=Object(M.useState)(!1),l=Object(D.a)(r,2),o=l[0],d=l[1];console.log(o);return Object(J.jsxs)("section",{id:"editFirstName",children:[Object(J.jsx)("div",{className:"fw-bold",children:"First Name"}),Object(J.jsxs)("div",{className:"d-flex justify-content-between",children:[o?Object(J.jsxs)("div",{className:"d-flex",children:[Object(J.jsx)("input",{type:"text",defaultValue:t,onChange:function(e){var t=e.target.value;i(t),console.log(s)},className:"min-vw-50"}),Object(J.jsx)("button",{className:"btn btn-outline-info ms-2",onClick:function(e){e.preventDefault(),fetch("/api/v1/users",{method:"PATCH",body:JSON.stringify({property:"firstName",firstName:s}),headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(){d(!1),n()})).catch((function(e){return alert(e)}))},children:"Save First Name"})]}):t,Object(J.jsx)("button",{className:"btn text-primary ms-2",onClick:function(){return d(!o)},children:"edit first name"})]})]})},ge=function(e){var t=e.currentLastName,n=e.getCurrentUser,c=Object(M.useState)(""),a=Object(D.a)(c,2),s=a[0],i=a[1],r=Object(M.useState)(!1),l=Object(D.a)(r,2),o=l[0],d=l[1];console.log(o);return Object(J.jsxs)("section",{id:"editLastName",children:[Object(J.jsx)("div",{className:"fw-bold",children:"Last Name"}),Object(J.jsxs)("div",{className:"d-flex justify-content-between",children:[o?Object(J.jsxs)("div",{className:"d-flex",children:[Object(J.jsx)("input",{type:"text",defaultValue:t,onChange:function(e){var t=e.target.value;i(t)}}),Object(J.jsx)("button",{className:"btn btn-outline-info ms-2",onClick:function(e){e.preventDefault(),fetch("/api/v1/users",{method:"PATCH",body:JSON.stringify({property:"lastName",lastName:s}),headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(){d(!1),n()})).catch((function(e){return alert(e)}))},children:"Save Last Name"})]}):t,Object(J.jsx)("button",{className:"btn text-primary ms-2",onClick:function(){return d(!o)},children:"edit Last name"})]})]})},pe=function(e){var t=e.getCurrentUser,n=Object(M.useState)(!0),c=Object(D.a)(n,2),a=c[0],s=c[1],i=Object(M.useState)(""),r=Object(D.a)(i,2),l=r[0],o=r[1],d=Object(M.useState)(""),j=Object(D.a)(d,2),b=j[0],u=j[1],m=Object(M.useState)(""),h=Object(D.a)(m,2),f=h[0],O=h[1],x=Object(M.useState)(),g=Object(D.a)(x,2),p=g[0],v=g[1],N=Object(M.useState)(),y=Object(D.a)(N,2),w=y[0],S=y[1];return Object(J.jsxs)("div",{children:[Object(J.jsx)("button",{className:"btn btn-info fw-bold",onClick:function(){return s(!a)},children:"Change Password"}),Object(J.jsxs)("div",{hidden:a,style:{minWidth:"60vw"},children:[Object(J.jsx)("label",{htmlFor:"currentPassword",children:"Current Password"}),Object(J.jsx)("input",{className:"form-control w-50 me-1 mb-4",type:"password",id:"currentPassword",onChange:function(e){var t=e.target.value;o(t)}}),Object(J.jsx)("label",{htmlFor:"newPassword",children:"New Password"}),Object(J.jsx)("input",{className:"form-control w-50 me-1 mb-1",type:"password",id:"newPassword",onChange:function(e){var t=e.target.value;u(t)}}),Object(J.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),Object(J.jsx)("input",{className:"form-control w-50 me-1 mt-1",type:"password",id:"confirmPassword",onChange:function(e){var t=e.target.value;O(t)}}),Object(J.jsx)("button",{className:"btn btn-primary mt-3 m-auto",onClick:function(e){e.preventDefault(),fetch("/api/v1/users",{method:"PATCH",body:JSON.stringify({property:"password",currentPassword:l,newPassword:b,confirmPassword:f}),headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(S(!1),200!==e.status)return e.json();s(!a),v("Password successfully changed!"),t()})).then((function(e){e&&S(e.msg)})).catch((function(e){return alert(e)}))},children:"Save Password"})]}),p&&Object(J.jsx)("div",{className:"text-success",children:p}),w&&Object(J.jsx)("div",{className:"text-danger",children:w})]})},ve=function(e){var t=e.currentUser,n=Object(M.useState)(""),c=Object(D.a)(n,2),a=c[0],s=c[1],i=Object(M.useState)(""),r=Object(D.a)(i,2),l=r[0],o=r[1],d=Object(M.useState)(""),j=Object(D.a)(d,2),b=j[0],u=j[1],m=Object(M.useState)(""),h=Object(D.a)(m,2),f=(h[0],h[1]),O=Object(M.useState)(""),x=Object(D.a)(O,2),g=x[0],p=x[1],v=function(){fetch("/api/v1/users/getUser",{method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(e){s(e.firstName),o(e.lastName),u(e.email),f(e.password),p(e.pic),t(e.firstName),console.log(e.pic)})).catch((function(e){return console.log(e)}))};return Object(M.useEffect)((function(){v()}),[]),Object(J.jsxs)("div",{className:"container",children:[Object(J.jsx)("div",{className:"fs-1 text-center mt-5 mb-5",children:"Account Details"}),Object(J.jsxs)("ul",{className:"list-group-flush w-50 m-auto",children:[Object(J.jsx)("li",{className:"list-group-item",children:Object(J.jsx)(xe,{currentFirstName:a,getCurrentUser:v})}),Object(J.jsx)("li",{className:"list-group-item",children:Object(J.jsx)(ge,{currentLastName:l,getCurrentUser:v})}),Object(J.jsx)("li",{className:"list-group-item",children:Object(J.jsx)(Oe,{currentEmail:b,getCurrentUser:v})}),Object(J.jsxs)("li",{className:"list-group-item ",children:[Object(J.jsx)("div",{className:"fw-bold",children:"Profile Photo"}),Object(J.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(J.jsxs)("form",{className:"form-control w-75 h-50",enctype:"multipart/form-data",onSubmit:function(e){e.preventDefault();var t=e.target.firstChild.files,n=new FormData;n.append("photo",t[0]),fetch("api/v1/users/upload",{method:"POST",credentials:"include",body:n}).then((function(e){return v(),e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},children:[Object(J.jsx)("input",{className:"form-control",type:"file",name:"photo"}),Object(J.jsx)("div",{className:"text-center",children:Object(J.jsx)("button",{className:"btn btn-info mt-2 w-25",type:"submit",children:"upload"})})]}),Object(J.jsx)("img",{src:g,style:{width:"5rem",height:"5rem"},className:"rounded"})]})]}),Object(J.jsx)("li",{className:"list-group-item",children:Object(J.jsx)(pe,{getCurrentUser:v})})]})]})},Ne=function(){var e=Object(M.useState)(),t=Object(D.a)(e,2),n=t[0],c=t[1],a=Object(M.useState)(!1),s=Object(D.a)(a,2),i=s[0],r=s[1],l=Object(M.useState)(""),o=Object(D.a)(l,2),d=o[0],j=o[1],b=function(){r(!1),j("")};return Object(J.jsx)("div",{className:"modal fade",id:"sendLinkCodeModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"sendLinkCodeModalLabel","aria-hidden":"true",children:Object(J.jsx)("div",{className:"modal-dialog",children:Object(J.jsxs)("div",{className:"modal-content",children:[Object(J.jsxs)("div",{className:"modal-header",children:[Object(J.jsx)("h5",{className:"modal-title",id:"sendLinkCodeModal"}),Object(J.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:b})]}),Object(J.jsx)("div",{className:"modal-body bg-secondary",children:Object(J.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/v1/users/request-link",{method:"POST",body:JSON.stringify({email:n}),headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){e.msg?j(e.msg):fetch("/api/v1/emails",{method:"POST",body:JSON.stringify({email:n,code:e.linkCode,sender:e.sender}),headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){if(200!==e.status)return e.json();r(!0)})).then((function(e){e.msg&&j(e.msg)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))},children:[Object(J.jsx)("label",{htmlFor:"email",children:"Enter recipient email"}),Object(J.jsxs)("div",{className:"d-flex",children:[Object(J.jsx)("input",{className:"form-control",type:"email",id:"email",onChange:function(e){c(e.target.value)}}),Object(J.jsx)("button",{className:"btn btn-success ms-2",children:"Send link code!"})]})]})}),Object(J.jsxs)("div",{className:"modal-footer",children:[i&&Object(J.jsx)("div",{className:"text-success text-center fw-bold w-100",children:"Link code sent!"}),d&&Object(J.jsx)("div",{className:"text-danger text-center fw-bold w-100",children:d}),Object(J.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:b,children:"Close"})]})]})})})},ye=function(e){var t=e.getLinkedUsers,n=Object(M.useState)(),c=Object(D.a)(n,2),a=c[0],s=c[1],i=Object(M.useState)(!1),r=Object(D.a)(i,2),l=r[0],o=r[1],d=Object(M.useState)(""),j=Object(D.a)(d,2),b=j[0],u=j[1],m=function(){o(!1),u("")};return Object(J.jsx)("div",{className:"modal",id:"enterLinkCodeModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"enterLinkCodeModalLabel","aria-hidden":"true",children:Object(J.jsx)("div",{className:"modal-dialog",children:Object(J.jsxs)("div",{className:"modal-content",children:[Object(J.jsxs)("div",{className:"modal-header",children:[Object(J.jsx)("div",{className:"fs-5 modal-title",children:"Enter link code from email"}),Object(J.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:m})]}),Object(J.jsx)("div",{className:"modal-body",children:Object(J.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/v1/users/confirm-link",{method:"POST",body:JSON.stringify({code:a}),headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){e.msg?u(e.msg):(t(),o(!0))})).catch((function(e){console.log(e.message),u(e)}))},children:[Object(J.jsx)("label",{htmlFor:"email",children:"Enter link code from email"}),Object(J.jsxs)("div",{className:"d-flex",children:[Object(J.jsx)("input",{className:"form-control",type:"text",id:"code",onChange:function(e){s(e.target.value)}}),Object(J.jsx)("button",{className:"btn btn-success ms-2",children:"Enter link code!"})]})]})}),Object(J.jsxs)("div",{className:"modal-footer",children:[l&&Object(J.jsx)("div",{className:"text-success text-center fw-bold w-100",children:"Linked user added!"}),b&&Object(J.jsx)("div",{className:"text-danger text-center fw-bold w-100",children:b}),Object(J.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:m,children:"Close"})]})]})})})},we=function(e){var t=e.id,n=e.handleDeleteLink;return Object(J.jsx)("div",{className:"modal",id:"deleteLinkedUserModal".concat(t),tabIndex:"-1","aria-labelledby":"deletLinkedUserModal".concat(t,"label"),"aria-hidden":"true",children:Object(J.jsx)("div",{className:"modal-dialog",children:Object(J.jsxs)("div",{className:"modal-content",children:[Object(J.jsxs)("div",{className:"modal-header",children:[Object(J.jsx)("h5",{className:"modal-title",id:t}),Object(J.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(J.jsxs)("div",{className:"modal-body",children:[Object(J.jsx)("p",{children:"Are you sure you want to remove this linked user?"}),Object(J.jsxs)("div",{className:"modal-footer",children:[Object(J.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",children:"Cancel"}),Object(J.jsx)("button",{type:"button",className:"btn btn-danger","data-bs-dismiss":"modal",onClick:function(e){return n(e,t)},children:"Remove"})]})]})]})})})},Se=I.b.div(p||(p=Object(B.a)(["\n  display: flex;\n  @media (max-width: 500px) {\n    flex-direction: column;\n  }\n"]))),ke=I.b.button(v||(v=Object(B.a)(["\n  width: 25%;\n  height: 100%;\n  margin-left: 10px;\n  margin-right: 10px;\n  @media (max-width: 500px) {\n    width: 90vw;\n    height: 50%;\n    margin-bottom: 5px;\n  }\n"]))),Ce=I.b.div(N||(N=Object(B.a)(["\n  display: flex;\n  justify-content: center;\n  @media (max-width: 500px) {\n    flex-direction: column;\n  }\n"]))),Le=I.b.div(y||(y=Object(B.a)(["\n  width: 20%;\n  @media (max-width: 500px) {\n    width: 90%;\n  }\n"]))),Ee=function(e){var t=e.getCurrentUser,n=Object(M.useState)([]),c=Object(D.a)(n,2),a=c[0],s=c[1],i=Object(J.jsx)("p",{className:"fs-1",children:"No linked users!"}),r=function(){fetch("/api/v1/users/linked",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){s(e.linkedUsers),t(e.username)})).catch((function(e){console.log(e)}))};Object(M.useEffect)((function(){r()}),[]);var l=function(e,t){e.preventDefault(),console.log("hello"),fetch("/api/v1/users/delete-link/".concat(t),{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(){return r()})).catch((function(e){return console.log(e)}))};if(a.length>0){var o="";i=a.map((function(e){return e.pic||(o="bg-dark"),Object(J.jsxs)(Le,{className:"card shadow-sm m-2 bg-light",children:[Object(J.jsxs)("div",{className:"card-title justify-center",children:[Object(J.jsx)("button",{className:"btn btn-warning btn-sm m-2 text-white","data-bs-toggle":"modal","data-bs-target":"#deleteLinkedUserModal".concat(e._id),children:"Delete account link"}),Object(J.jsx)(we,{id:e._id,handleDeleteLink:l})]}),Object(J.jsx)("div",{className:"d-flex justify-content-center m-2 w-50 h-100 m-auto"+o,children:Object(J.jsx)("img",{src:e.pic,class:"card-img-top rounded-circle",alt:"..."})}),Object(J.jsx)("div",{className:"card-body d-flex justify-content-center",children:Object(J.jsxs)(H.b,{to:{pathname:"/linked-ratings/".concat(e._id)},className:"text-decoration-none text-dark fw-bold",children:[e.firstName," ",e.lastName]})})]},e._id)}))}return Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{className:"fs-1 text-center mb-2",children:"Linked Users"}),Object(J.jsxs)("div",{className:" d-flex flex-column justify-content-center align-items-center w-90 vh-90",children:[Object(J.jsxs)(Se,{className:"d-flex justify-content-center h-25 w-100 mb-3",children:[Object(J.jsxs)(ke,{className:"btn btn-secondary shadow fs-4","data-bs-toggle":"modal","data-bs-target":"#sendLinkCodeModal",children:[Object(J.jsx)(Z.a,{icon:q.c})," Send link request!"]}),Object(J.jsxs)(ke,{className:"btn btn-primary shadow fs-4","data-bs-toggle":"modal","data-bs-target":"#enterLinkCodeModal",children:[Object(J.jsx)(Z.a,{icon:q.a})," Enter Link Code!"]})]}),Object(J.jsx)(Ne,{}),Object(J.jsx)(ye,{getLinkedUsers:r}),Object(J.jsx)("div",{className:"w-100",children:Object(J.jsx)(Ce,{children:i})})]})]})},Ae=I.b.div(w||(w=Object(B.a)(["\n  &:hover {\n    font-weight: bolder;\n  }\n  cursor: pointer;\n"]))),Pe=function(){var e=Object(M.useState)([]),t=Object(D.a)(e,2),n=t[0],c=t[1],a=Object(M.useState)(!0),s=Object(D.a)(a,2),i=s[0],r=s[1],l=Object(M.useState)("All"),o=Object(D.a)(l,2),d=o[0],j=o[1],b=Object(M.useState)("All"),u=Object(D.a)(b,2),m=u[0],h=u[1],f=Object(R.g)(),O=Object(M.useRef)(!0),x=function(e){for(var t=[],n=function(n){var c=e.filter((function(e){return Number(e.score)===n})).map((function(e){return e.name}));t.push(c)},c=10;c>=1;c-=1)n(c);return t},g=function(e,t,n){return"All"!==e&&(n="Male"===e?n.filter((function(e){return"m"===e.name.gender})):"Female"===e?n.filter((function(e){return"f"===e.name.gender})):n.filter((function(e){return"b"===e.name.gender}))),"All"!==t&&(n="USA"===t?n.filter((function(e){return"USA"===e.name.origin})):"Europe"===t?n.filter((function(e){return"Europe"===e.name.origin})):"Africa"===t?n.filter((function(e){return"Africa"===e.name.origin})):n.filter((function(e){return"Asia"===e.name.origin}))),n},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O;fetch("/api/v1/ratings/".concat(f.id),{method:"GET",credentials:"include"}).then((function(e){return n.current&&r(!0),e.json()})).then((function(a){if(n.current){j(e),h(t);var s=g(e,t,a.ratings),i=x(s);console.log(i),c(i),r(!1)}})).catch((function(e){return console.log(e)}))};Object(M.useEffect)((function(){return O.current=!0,p(d,m,O),function(){O.current=!1}}),[]);var v=n.map((function(e,t){var n=e.map((function(e){var t;return t="m"===e.gender?"lightBlue":"lightPink",Object(J.jsx)("li",{className:"list-group-item d-flex justify-content-between",children:Object(J.jsx)("div",{className:"container",children:Object(J.jsx)("div",{className:"text-center",children:Object(J.jsxs)("div",{className:"col",children:[Object(J.jsx)(Ae,{className:"d-inline-block",style:{color:t},"data-bs-toggle":"modal","data-bs-target":"#".concat(e.name),children:e.name}),Object(J.jsx)(Q,{name:e})]})})})},e)})),c=function(e){var t=11-(e+1);return t>=7?"success":t>=5?"muted":"danger"}(t);return Object(J.jsxs)("div",{className:"container border border-dark rounded mt-3 h-10",children:[Object(J.jsx)("div",{className:"fs-2 text-center fw-light",children:Object(J.jsx)("div",{className:"fs-1 fw-bold text-".concat(c," m-auto mt-2"),children:11-(t+1)})}),Object(J.jsx)("ul",{className:"text-center fs-4 list-group list-group-flush",children:n})]},t/10)})),N=Object(J.jsxs)("div",{className:"d-flex justify-content-center align-items-center w-100 vh-100",children:[Object(J.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(J.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(J.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(J.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(J.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(J.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]});return Object(J.jsxs)("div",{className:"container",children:[Object(J.jsx)(W,{fetchFn:p}),Object(J.jsx)("div",{className:"container mt-2",children:i?N:v})]})},Te=n.p+"static/media/card.1be61923.png",Ue=n.p+"static/media/filter.c3f8c576.png",Fe=n.p+"static/media/ratings.66cb1399.png",De=n.p+"static/media/linked.c3196cd1.png",Me=Object(I.c)(S||(S=Object(B.a)(["\n\t0% {\n\t\ttransform: scale(0, .025);\n\t}\n\t50% {\n\t\ttransform: scale(1, .025);\n\t}\n"]))),Re=I.b.div(k||(k=Object(B.a)(["\n  background: white;\n  height: 30em;\n  animation: ",";\n"])),(function(e){return e.animate&&Object(I.a)(C||(C=Object(B.a)(["\n      "," 1s linear\n    "])),Me)})),He=I.b.div(L||(L=Object(B.a)(["\n  background: white;\n  height: 30em;\n  animation: ",";\n"])),(function(e){return e.animate&&Object(I.a)(E||(E=Object(B.a)(["\n      "," 1s linear\n    "])),Me)})),Je=I.b.div(A||(A=Object(B.a)(["\n  background: white;\n  height: 30em;\n  animation: ",";\n"])),(function(e){return e.animate&&Object(I.a)(P||(P=Object(B.a)(["\n      "," 1s linear\n    "])),Me)})),ze=(I.b.div(T||(T=Object(B.a)(["\n  background: white;\n  height: 30em;\n  animation: ",";\n"])),(function(e){return e.animate&&Object(I.a)(U||(U=Object(B.a)(["\n      "," 1s linear\n    "])),Me)})),function(){var e,t,n,c,a=Object(M.useState)(!1),s=Object(D.a)(a,2),i=s[0],r=s[1],l=Object(M.useState)(!1),o=Object(D.a)(l,2),d=o[0],j=o[1],b=Object(M.useState)(!1),u=Object(D.a)(b,2),m=u[0],h=u[1],f=Object(M.useState)(!1),O=Object(D.a)(f,2),x=O[0],g=O[1],p=Object(M.useRef)(null),v=Object(M.useRef)(null),N=Object(M.useRef)(null),y=Object(M.useRef)(null);Object(M.useLayoutEffect)((function(){return e=p.current.getBoundingClientRect().top,t=v.current.getBoundingClientRect().top,n=N.current.getBoundingClientRect().top,c=y.current.getBoundingClientRect().top,window.addEventListener("scroll",w),window.addEventListener("scroll",S),window.addEventListener("scroll",k),window.addEventListener("scroll",C),function(){window.removeEventListener("scroll",w),window.removeEventListener("scroll",S),window.removeEventListener("scroll",k),window.removeEventListener("scroll",C)}}),[]);var w=function(){var t=window.scrollY+window.innerHeight;e<t&&r(!0)},S=function(){var e=window.scrollY+window.innerHeight;t<e&&j(!0)},k=function(){var e=window.scrollY+window.innerHeight;n<e&&h(!0)},C=function(){var e=window.scrollY+window.innerHeight;c<e&&g(!0)};return Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{className:"container-fluid vh-100 rounded d-flex flex-column justify-content-center align-items-center",style:{background:"linear-gradient(lightPink, lightBlue)"},children:[Object(J.jsx)("div",{className:"text-center",style:{fontSize:"6rem",color:"white"},children:"Rank Baby Names!"}),Object(J.jsx)("div",{className:"fs-3 text-light text-center w-50",children:"Collaborate with friends and family to come up with the perfect name for your new edition!"}),Object(J.jsx)("button",{className:"btn btn-light mt-3",children:Object(J.jsx)(H.b,{to:"/sign-up",className:"text-decoration-none",style:{color:"purple"},children:Object(J.jsx)("span",{children:"Sign Up!"})})})]}),Object(J.jsxs)(Re,{className:"row",ref:p,animate:i,onScroll:w,children:[Object(J.jsx)("div",{className:"fs-4 col-6 d-flex justify-content-center align-items-center text-muted h-100",children:Object(J.jsx)("p",{children:"Rate names on a scale of 1-10."})}),Object(J.jsx)("div",{className:"fs-1 col-6 h-100 d-flex justify-content-end align-items-center",children:Object(J.jsx)("img",{src:Te,className:"w-100 "})})]}),Object(J.jsxs)(He,{className:"row",ref:v,animate:d,onScroll:S,children:[Object(J.jsx)("div",{className:"fs-1 col-6 h-100 d-flex justify-content-end align-items-center",children:Object(J.jsx)("img",{src:Ue,className:"w-100 "})}),Object(J.jsx)("div",{className:"fs-4 col-6 d-flex justify-content-center align-items-center text-muted h-100",children:Object(J.jsx)("p",{children:"Use filters to select which names to see."})})]}),Object(J.jsxs)(Je,{className:"row",ref:N,animate:m,onScroll:k,children:[Object(J.jsx)("div",{className:"fs-4 col-6 d-flex justify-content-center align-items-center text-muted h-100",children:Object(J.jsx)("p",{children:"Easily view, edit, or delete your ratings and filter them by gender and/or origin."})}),Object(J.jsx)("div",{className:"fs-1 col-6 h-100 d-flex justify-content-end align-items-center",children:Object(J.jsx)("img",{src:Fe,className:"w-100 "})})]}),Object(J.jsxs)(Je,{className:"row",ref:y,animate:x,onScroll:C,children:[Object(J.jsx)("div",{className:"fs-1 col-6 h-100 d-flex justify-content-end align-items-center",children:Object(J.jsx)("img",{src:De,className:"w-100 "})}),Object(J.jsx)("div",{className:"fs-4 col-6 d-flex justify-content-center align-items-center text-muted h-100",children:Object(J.jsx)("p",{children:"Link your account with friends and family to share each others' ratings!"})})]}),Object(J.jsxs)("div",{className:"fs-1 d-flex flex-column justify-content-center align-items-center text-white w-100 rounded",style:{height:"15em",background:"linear-gradient(lightPink, lightBlue)"},children:[Object(J.jsx)("p",{children:"Ready to start ranking?"}),Object(J.jsx)(H.b,{to:"/sign-up",children:Object(J.jsx)("button",{className:"btn btn-primary fs-4 shadow-sm",style:{width:"10em",height:"5em"},children:"Sign up today!"})})]})]})});t.a=function(){var e=Object(M.useState)(null),t=Object(D.a)(e,2),n=t[0],c=t[1],a=function(e){c(e)};return Object(J.jsx)(ne,{children:Object(J.jsx)("div",{className:"container",children:Object(J.jsxs)(H.a,{children:[Object(J.jsx)(me,{user:n,getCurrentUser:a}),Object(J.jsx)(R.b,{path:"/",exact:!0,component:ze}),Object(J.jsx)(R.b,{path:"/cards",exact:!0,component:function(e){return he(ue)(Object(F.a)(Object(F.a)({},e),{},{getCurrentUser:a}))}}),Object(J.jsx)(R.b,{path:"/login",render:function(e){return Object(J.jsx)(z,Object(F.a)({},e))}}),Object(J.jsx)(R.b,{path:"/sign-up",component:fe}),Object(J.jsx)(R.b,{path:"/ratings",component:function(e){return he(X)(Object(F.a)(Object(F.a)({},e),{},{getCurrentUser:a}))}}),Object(J.jsx)(R.b,{path:"/account",component:function(e){return he(ve)(Object(F.a)(Object(F.a)({},e),{},{currentUser:a}))}}),Object(J.jsx)(R.b,{path:"/linked",component:function(e){return he(Ee)(Object(F.a)(Object(F.a)({},e),{},{getCurrentUser:a}))}}),Object(J.jsx)(R.b,{path:"/linked-ratings/:id",component:he(Pe)})]})})})}},34:function(e,t,n){"use strict";n.r(t),function(e){n(35);var t=n(1),c=n.n(t),a=n(29),s=n.n(a),i=(n(40),n(33)),r=n(0);e.jQuery=n(52),n(53),s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(i.a,{})}),document.getElementById("root"))}.call(this,n(16))},40:function(e,t,n){}},[[34,1,2]]]);
//# sourceMappingURL=main.992c71ae.chunk.js.map